<template name="stories">
  <div class="stories">
      {{> storyNew}}
      {{#each stories}}
        <div class="story {{type}} {{size}} {{status}} {{selected}}">
          {{#if editing}}
            <a class="close icon-close"></a>
            <select id="edit_story_type">
              <option value="story">Story</option>
              <option value="defect">Defect</option>
              <option value="task">Task</option>
            </select>
            <select id="edit_story_size">
              <option value="small">Small</option>
              <option value="medium">Medium</option>
              <option value="large">Large</option>
            </select>
            <select id="edit_story_status">
              <option value="someday">Someday</option>
              <option value="backlog">Backlog</option>
              <option value="current">Current</option>
              <option value="done">Done</option>
            </select>
            <textarea id="edit_story_title">{{title}}</textarea>
            <button id="edit_story" class="button-knockout">Save {{type}}</button>
          {{else}}
            {{#if storyMenu}}
              <ul class="story-menu">
                <li><a href="#" class="story-menu-item story-edit icon-edit">Edit {{type}}</a></li>
                <li><a href="#" class="story-menu-item story-delete icon-trash">Delete {{type}}</a></li>
              </ul>
              <a class="close icon-close"></a>
            {{else}}
              <small>{{status}}</small>
              <p class="story-title">{{title}}</p>
              <a class="story-menu-toggle icon-settings"></a>
            {{/if}}
          {{/if}}
        </div>
      {{/each}}
  </div>
</template>

<template name="storiesHeader">
  <header class="stories-header">
    <div class="filters">
      Showing
      <select class="filter">
        <option value="*">all items</option>
        <option value=".story.story">Stories</option>
        <option value=".defect">Defects</option>
        <option value=".task">Tasks</option>
      </select>
      with
      <select class="filter">
        <option value="*">any status</option>
        <option value=".someday">Someday</option>
        <option value=".backlog">Backlog</option>
        <option value=".current">Current</option>
        <option value=".done">Done</option>
      </select>
      and
      <select class="filter">
        <option value="*" selected>any size</option>
        <option value=".small">Small</option>
        <option value=".medium">Medium</option>
        <option value=".large">Large</option>
      </select>
      assigned to
      <select class="filter">
        <option value="*" selected>anyone</option>
      </select>
    </div>
  </header>
</template>

<template name="storyNew">
    <div id="new_story_toggle" class="story new {{isAdding}}">
      <span>New story</span>
      <div class="story-new">
        <a class="close icon-close"></a>
        <select id="new_story_type">
          <option value="story">Story</option>
          <option value="defect">Defect</option>
          <option value="task">Task</option>
        </select>
        <select id="new_story_size">
          <option value="small">Small</option>
          <option value="medium">Medium</option>
          <option value="large">Large</option>
        </select>
        <select id="new_story_status">
          <option value="someday" selected>Someday</option>
          <option value="backlog">Backlog</option>
          <option value="current">Current</option>
        </select>
        <textarea id="new_story_title"></textarea>
        <button id="add_story">Add story</button>
      </div>
    </div>
</template>
