<head>
  <title>Stadium</title>
</head>

<body>
  <header class="header-global">
    {{> loginButtons align="right"}}
  </header>
  <div class="width-wrapper">
    <section class="ideas">
    </section>
    <section class="stories">
      {{> stories}}
    </section>
    <section class="messages">
      {{> messages}}
      {{> messageInput}}
    </section>
  </div>
</body>

<template name="stories">
  <header class="stories-header">
    <a id="all_stories">All stories</a>
    <select class="filter">
      <option value="*">All statuses</option>
      <option value=".someday">Someday</option>
      <option value=".backlog">Backlog</option>
      <option value=".current">Current</option>
      <option value=".done">Done</option>
    </select>
    <select id="filter_size" class="filter">
      <option value="*" selected>All sizes</option>
      <option value=".small">Small</option>
      <option value=".medium">Medium</option>
      <option value=".large">Large</option>
    </select>
  </header>
  <div class="stories-list">
      {{> storyNew}}
      {{#each stories}}
        <div class="story {{selected}} {{size}} {{status}}">
          {{#if editing}}
            <select id="edit_story_size">
              <option value="small">Small</option>
              <option value="medium">Medium</option>
              <option value="large">Large</option>
            </select>
            <select id="edit_story_status">
              <option value="someday">Someday</option>
              <option value="backlog">Backlog</option>
              <option value="current">Current</option>
              <option value="done">Done</option>
            </select>
            <textarea id="edit_story_title">{{title}}</textarea>
            <button id="edit_story">Save story</button>
          {{else}}
            <small>
              {{status}}
              <a href="#" class="story-delete">delete</a>
              <a href="#" class="story-edit">edit</a>
            </small>
            <p class="story-title">{{title}}</p>
          {{/if}}
        </div>
      {{/each}}
  </div>
</template>

<template name="storyNew">
    <div id="new_story_toggle" class="story new {{isAdding}}">
      <span>New story</span>
      <div class="story-new">
        <select id="new_story_size">
          <option value="small">Small</option>
          <option value="medium">Medium</option>
          <option value="large">Large</option>
        </select>
        <select id="new_story_status">
          <option value="someday" selected>Someday</option>
          <option value="backlog">Backlog</option>
          <option value="current">Current</option>
        </select>
        <textarea id="new_story_title"></textarea>
        <button id="add_story">Add story</button>
      </div>
    </div>
</template>

<template name="messages">
  {{#each messages}}
    <div class="message">
      <img src="{{avatarUrl}}">
      <strong>{{name}}:</strong>
      {{#if editing}}
        <input type="text" id="message_edit" value="{{message}}">
      {{else}}
        {{message}}
      {{/if}}
      <a href="#" class="message-delete">delete</a>
      <a href="#" class="message-edit">edit</a>
    </div>
  {{/each}}
</template>

<template name="messageInput">
  <input type="text" id="message_add" placeholder="Your message">
</template>
